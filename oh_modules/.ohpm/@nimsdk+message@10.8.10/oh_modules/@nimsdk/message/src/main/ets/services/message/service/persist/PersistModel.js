import { V2NIMMessageModel } from '../../model/V2NIMMessageModel'; export class PersistModel { constructor(table) { this.messageTable = table; } async isSavedMessage(g60) { const data = await this.messageTable.query(g60); return (typeof data === 'undefined' || data.isDeleted) ? false : true; } async insertMessageToLocal(message, e60, f60, createTime) { message.conversationId = e60; message.senderId = f60; message.createTime = createTime; const model = new V2NIMMessageModel().implement(message); await this.messageTable.saveMessage(model); return message; } async updateMessageLocalExtension(c60, d60) { await this.messageTable.updateLocalExtension(c60, d60); } } 