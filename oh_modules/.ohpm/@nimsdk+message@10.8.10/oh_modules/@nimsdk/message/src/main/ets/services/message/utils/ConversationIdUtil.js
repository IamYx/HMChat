import { V2NIMConversationType } from '@nimsdk/base'; export default class ConversationIdUtil { static p2pConversationId(a72, accountId) { return `${a72}|${V2NIMConversationType.V2NIM_CONVERSATION_TYPE_P2P}|${accountId}`; } static teamConversationId(y71, z71) { return `${y71}|${V2NIMConversationType.V2NIM_CONVERSATION_TYPE_TEAM}|${z71}`; } static superTeamConversationId(w71, x71) { return `${w71}|${V2NIMConversationType.V2NIM_CONVERSATION_TYPE_SUPER_TEAM}|${x71}`; } static messageConversationId(s71, t71, u71, v71) { if (t71 === V2NIMConversationType.V2NIM_CONVERSATION_TYPE_P2P) { return u71 === s71 ? this.p2pConversationId(s71, v71) : this.p2pConversationId(s71, u71); } else if (t71 === V2NIMConversationType.V2NIM_CONVERSATION_TYPE_TEAM) { return this.teamConversationId(s71, v71); } else { return this.superTeamConversationId(s71, v71); } } static receiveId(o71, p71, q71) { const targetId = this.parseConversationTargetId(o71, p71); const type = this.parseConversationType(o71, p71); let r71; switch (type) { case V2NIMConversationType.V2NIM_CONVERSATION_TYPE_P2P: { if (q71 === targetId) { r71 = o71; } else { r71 = targetId; } } break; case V2NIMConversationType.V2NIM_CONVERSATION_TYPE_TEAM: case V2NIMConversationType.V2NIM_CONVERSATION_TYPE_SUPER_TEAM: { r71 = targetId; } break; default: r71 = targetId; break; } return r71; } static parseConversationType(m71, n71) { try { if (n71 && n71.startsWith(`${m71}|`)) { const str = n71.replace(`${m71}|`, ''); return Number(str[0]); } else { return V2NIMConversationType.V2NIM_CONVERSATION_TYPE_UNKNOWN; } } catch (err) { return V2NIMConversationType.V2NIM_CONVERSATION_TYPE_UNKNOWN; } } static parseConversationTargetId(k71, l71) { try { if (l71 && l71.startsWith(`${k71}|`)) { const str = l71.replace(`${k71}|`, ''); return str.slice(2); } else { return ''; } } catch (err) { return ''; } } static parseConversationMyAccountId(i71, j71) { const contents = j71.split("|"); if (contents.length != 3) { return ""; } if (!j71.startsWith(`${i71}|`)) { return ""; } return contents[0]; } } 