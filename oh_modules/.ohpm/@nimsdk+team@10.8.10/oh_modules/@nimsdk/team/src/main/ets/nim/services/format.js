import { deserialize, invertSerializeItem, teamTag, userInfoTag, } from '@nimsdk/base'; import { get, set } from '@nimsdk/vendor/Index'; export function formatTeamFromTinfo(d1) { return deserialize(d1, invertSerializeItem(teamTag)); } export function formatTeamNotificationAttachData(m, o) { if (!m) { return {}; } const t = m; if (get(t, 'tinfo')) { const c1 = formatTeamFromTinfo(get(t, 'tinfo')); set(t, 'tinfo', c1); set(t, 'tinfo.teamType', o); } if (get(t, 'uinfos')) { const a1 = get(t, 'uinfos').map((b1) => deserialize(b1, invertSerializeItem(userInfoTag))); set(t, 'uinfos', a1); } if (typeof get(t, 'mute') !== 'undefined') { const u = parseInt(get(t, 'mute')); set(t, 'mute', u); } return t; } 